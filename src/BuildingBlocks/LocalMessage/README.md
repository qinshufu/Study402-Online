# 本地消息表模块

分布式事务的解决方案，使用本地消息表模块。

当用户发布一条消息时，该消息对应的消息处理器不会立即被执行，而是先将该消息保存到消息日志表中。

一个单独的线程会定时扫描消息日志表，提取未完成的消息，并实例化对应的消息处理器并执行。

当消息处理器执行成功，标记消息执行完成，如果消息处理失败，则将消息重试次数 +1，当消息重试次数到达上线以后，标记消息完成。
成功执行的消息以及达到重试上线的消息都被视为消息执行完成，同时被移动到消息历史表。